# Medical Booking Service

> üá¨üáß [English version](README.en.md)

–ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –º–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–≥–æ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è –∏ –∫–∞–±–∏–Ω–µ—Ç–æ–≤ –Ω–∞ –±–∞–∑–µ Telegram-–±–æ—Ç–æ–≤.

[![License: MPL 2.0](https://img.shields.io/badge/License-MPL%202.0-brightgreen.svg)](https://opensource.org/licenses/MPL-2.0)
[![Go Version](https://img.shields.io/badge/Go-1.24+-00ADD8?logo=go)](https://golang.org/)
[![Docker](https://img.shields.io/badge/Docker-ready-2496ED?logo=docker)](https://www.docker.com/)

---

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–û–±–∑–æ—Ä](#-–æ–±–∑–æ—Ä)
- [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
- [–û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏](#-–æ—Å–Ω–æ–≤–Ω—ã–µ-–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏)
- [–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è](#-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
- [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#-–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
- [–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è](#Ô∏è-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)
- [–ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–æ–≤](#-–∫–æ–º–∞–Ω–¥—ã-–±–æ—Ç–æ–≤)
- [API](#-api)
- [–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥](#-–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥)
- [–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞](#-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞)
- [–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø—Ä–æ–µ–∫—Ç–æ–≤](#-–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ-–ø–æ–¥–ø—Ä–æ–µ–∫—Ç–æ–≤-git-subtree)
- [–õ–∏—Ü–µ–Ω–∑–∏—è](#-–ª–∏—Ü–µ–Ω–∑–∏—è)

---

## üéØ –û–±–∑–æ—Ä

Medical Booking Service ‚Äî —ç—Ç–æ –º–æ–Ω–æ—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π, –æ–±—ä–µ–¥–∏–Ω—è—é—â–∏–π –¥–≤–∞ –≤–∑–∞–∏–º–æ—Å–≤—è–∑–∞–Ω–Ω—ã—Ö Telegram-–±–æ—Ç–∞ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤:

1. **Bronivik Jr** (`bronivik_jr/`) ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å –¥–ª—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –º–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–≥–æ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è –Ω–∞ –ø–æ–ª–Ω—ã–π –¥–µ–Ω—å
2. **Bronivik CRM** (`bronivik_crm/`) ‚Äî —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –±–æ—Ç –¥–ª—è –ø–æ—á–∞—Å–æ–≤–æ–≥–æ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ–∏–∑–∏—á–µ—Å–∫–∏—Ö –∫–∞–±–∏–Ω–µ—Ç–æ–≤ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–æ–π –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è

–°–∏—Å—Ç–µ–º–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:
- ü§ñ –£–¥–æ–±–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —á–µ—Ä–µ–∑ Telegram
- üìä –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å Google Sheets –¥–ª—è –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç–∏
- üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É –±–æ—Ç–∞–º–∏
- üîî –°–∏—Å—Ç–µ–º—É –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π –æ –ø—Ä–µ–¥—Å—Ç–æ—è—â–∏—Ö –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è—Ö
- üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –º–µ—Ç—Ä–∏–∫–∏ (Prometheus + Grafana)
- üîí –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–æ–º –∏ –ø—Ä–∞–≤–∞ –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
Medical-Booking-Service/
‚îú‚îÄ‚îÄ bronivik_jr/          # –ë–æ—Ç 1: –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ cmd/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ bot/          # Telegram Bot
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ api/          # REST API & gRPC Server
‚îÇ   ‚îú‚îÄ‚îÄ internal/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api/          # HTTP & gRPC API
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ bot/          # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –±–æ—Ç–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ database/     # SQLite (WAL)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ google/       # Google Sheets Worker
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ worker/       # Background Jobs
‚îÇ   ‚îî‚îÄ‚îÄ configs/          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (config.yaml, items.yaml)
‚îÇ
‚îú‚îÄ‚îÄ bronivik_crm/         # –ë–æ—Ç 2: –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–±–∏–Ω–µ—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ cmd/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ bot/          # Telegram Bot
‚îÇ   ‚îú‚îÄ‚îÄ internal/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ bot/          # –õ–æ–≥–∏–∫–∞ –±–æ—Ç–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ booking/      # FSM –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ crmapi/       # HTTP-–∫–ª–∏–µ–Ω—Ç –¥–ª—è Bronivik Jr API
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ db/           # SQLite –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ manager/      # –ü–∞–Ω–µ–ª—å –º–µ–Ω–µ–¥–∂–µ—Ä–∞
‚îÇ   ‚îî‚îÄ‚îÄ configs/          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (config.yaml, cabinets.yaml)
‚îÇ
‚îú‚îÄ‚îÄ shared/               # –û–±—â–∏–µ –º–æ–¥—É–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ access/          # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–æ–º (blocklist, managers)
‚îÇ   ‚îú‚îÄ‚îÄ audit/           # –ê—É–¥–∏—Ç –∏ —ç–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ reminders/       # –°–∏—Å—Ç–µ–º–∞ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π
‚îÇ   ‚îî‚îÄ‚îÄ utils/           # –û–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã
‚îÇ
‚îú‚îÄ‚îÄ monitoring/          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
‚îÇ   ‚îú‚îÄ‚îÄ prometheus.yml   # Prometheus –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ alerts.yml       # –ü—Ä–∞–≤–∏–ª–∞ –∞–ª–µ—Ä—Ç–∏–Ω–≥–∞
‚îÇ   ‚îî‚îÄ‚îÄ grafana/         # Dashboards –∏ datasources
‚îÇ
‚îú‚îÄ‚îÄ docs/                # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ ARCHITECTURE.md  # –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã
‚îÇ   ‚îú‚îÄ‚îÄ DATABASE_SCHEMA.md # –°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ MANAGER_GUIDE.md # –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –º–µ–Ω–µ–¥–∂–µ—Ä–∞
‚îÇ   ‚îú‚îÄ‚îÄ ROLLBACK.md      # –ü–ª–∞–Ω –æ—Ç–∫–∞—Ç–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π
‚îÇ   ‚îî‚îÄ‚îÄ openapi.yaml     # OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è
‚îÇ
‚îú‚îÄ‚îÄ scripts/             # –£—Ç–∏–ª–∏—Ç—ã –∏ —Å–∫—Ä–∏–ø—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ migrate.sh       # –°–∏—Å—Ç–µ–º–∞ –º–∏–≥—Ä–∞—Ü–∏–π –ë–î
‚îÇ
‚îú‚îÄ‚îÄ docker-compose.yml   # –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤
‚îî‚îÄ‚îÄ .env.example         # –®–∞–±–ª–æ–Ω –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
```

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã Bronivik Jr (–û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å)

- **Telegram Bot** ‚Äî –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤
- **REST API & gRPC** ‚Äî —Ç–æ—á–∫–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ (–≤–∫–ª—é—á–∞—è CRM –±–æ—Ç)
- **SQLite (WAL)** ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∞–Ω–Ω—ã—Ö (–±—Ä–æ–Ω–∏, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ)
- **Google Sheets Worker** ‚Äî –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å Google –¢–∞–±–ª–∏—Ü–∞–º–∏
- **Event Bus** ‚Äî –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —à–∏–Ω–∞ —Å–æ–±—ã—Ç–∏–π –¥–ª—è —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –ª–æ–≥–∏–∫–∏
- **Redis** ‚Äî –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ Rate Limiting
- **Reminder Worker** ‚Äî —Ñ–æ–Ω–æ–≤–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π (cron-–∑–∞–¥–∞—á–∞)

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã Bronivik CRM (–ö–∞–±–∏–Ω–µ—Ç—ã)

- **Telegram Bot** ‚Äî –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –ø–æ—á–∞—Å–æ–≤–æ–≥–æ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- **FSM Engine** ‚Äî –∫–æ–Ω–µ—á–Ω—ã–π –∞–≤—Ç–æ–º–∞—Ç –¥–ª—è –¥–∏–∞–ª–æ–≥–æ–≤ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- **API Client** ‚Äî –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Bronivik Jr –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è
- **SQLite** ‚Äî –ª–æ–∫–∞–ª—å–Ω–∞—è –ë–î –¥–ª—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –∏ –±—Ä–æ–Ω–µ–π
- **Redis** ‚Äî –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ API-–∑–∞–ø—Ä–æ—Å–æ–≤

---

## ‚ú® –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –û–±—â–∏–µ –¥–ª—è –æ–±–µ–∏—Ö —Å–∏—Å—Ç–µ–º

- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è** ‚Äî –∑–∞ 24 —á–∞—Å–∞ –¥–æ –±—Ä–æ–Ω–∏ —Å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏
- ‚úÖ **–ï–∂–µ–º–µ—Å—è—á–Ω—ã–π –∞—É–¥–∏—Ç** ‚Äî —ç–∫—Å–ø–æ—Ä—Ç –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö –≤ Excel (1-–≥–æ —á–∏—Å–ª–∞ –∫–∞–∂–¥–æ–≥–æ –º–µ—Å—è—Ü–∞)
- ‚úÖ **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–æ–º** ‚Äî —á—ë—Ä–Ω—ã–π —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ —Å–ø–∏—Å–æ–∫ –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤
- ‚úÖ **TTL –ø–æ–ª–∏—Ç–∏–∫–∞** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å—Ç–∞—Ä—à–µ 31 –¥–Ω—è
- ‚úÖ **–ú–µ—Ç—Ä–∏–∫–∏ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** ‚Äî Prometheus + Grafana –¥–ª—è observability
- ‚úÖ **Health Checks** ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### Bronivik Jr (–û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ)

- üì± –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–≥–æ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è –Ω–∞ –ø–æ–ª–Ω—ã–π –¥–µ–Ω—å
- üîÑ –î–∏–∞–ø–∞–∑–æ–Ω–Ω—ã–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è ("–≤–µ—á–Ω–∞—è –∞—Ä–µ–Ω–¥–∞" –¥–ª—è CRM)
- üìä –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å Google Sheets
- üîå REST API –∏ gRPC –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- ‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∑–∞—è–≤–æ–∫ –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º
- üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –æ—Ç—á—ë—Ç—ã
- üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ API

### Bronivik CRM (–ö–∞–±–∏–Ω–µ—Ç—ã)

- üè• –ü–æ—á–∞—Å–æ–≤–æ–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∏–∑–∏—á–µ—Å–∫–∏—Ö –∫–∞–±–∏–Ω–µ—Ç–æ–≤
- ‚è∞ –°–ª–æ—Ç—ã –ø–æ 30 –º–∏–Ω—É—Ç —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –≤—ã–±–æ—Ä–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–æ–¥—Ä—è–¥
- üîó –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è —á–µ—Ä–µ–∑ API Bronivik Jr
- üìÖ –ì–∏–±–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º (—Ä–∞–±–æ—á–∏–µ —á–∞—Å—ã, –æ–±–µ–¥—ã, –ø—Ä–∞–∑–¥–Ω–∏–∫–∏)
- üë• –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–∞ (–§–ò–û, —Ç–µ–ª–µ—Ñ–æ–Ω)
- üéõÔ∏è –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å –º–µ–Ω–µ–¥–∂–µ—Ä–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞—è–≤–∫–∞–º–∏
- üìã –†—É—á–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–æ–∫ –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º (–∑–∞–ø–∏—Å—å –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É)

---

## üì¶ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **Go** 1.24+ (–¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
- **Docker** 20.10+ –∏ **Docker Compose** 2.0+
- **Redis** 7+ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤ docker-compose)
- **SQLite3** (–≤—Å—Ç—Ä–æ–µ–Ω –≤ Docker-–æ–±—Ä–∞–∑—ã)
- **Google Cloud Service Account** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Å Google Sheets)

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
git clone https://github.com/Bormotoon/Medical-Booking-Service.git
cd Medical-Booking-Service
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
cp .env.example .env
```

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `.env` –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

```env
# Telegram —Ç–æ–∫–µ–Ω—ã (–ø–æ–ª—É—á–∏—Ç–µ —É @BotFather)
BOT_TOKEN=your_bot_token_here
CRM_BOT_TOKEN=your_crm_bot_token_here

# API –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
API_AUTH_KEYS=key1:extra1,key2:extra2
CRM_API_KEY=key1
CRM_API_EXTRA=extra1

# –ú–µ–Ω–µ–¥–∂–µ—Ä—ã (Telegram User IDs —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é)
MANAGERS=123456789,987654321

# Google Sheets (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
GOOGLE_SPREADSHEET_ID=your_spreadsheet_id
CRM_GOOGLE_SPREADSHEET_ID=your_crm_spreadsheet_id
```

### 3. (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Google Sheets

–ï—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å Google –¢–∞–±–ª–∏—Ü–∞–º–∏:

1. –°–æ–∑–¥–∞–π—Ç–µ Service Account –≤ [Google Cloud Console](https://console.cloud.google.com/)
2. –°–∫–∞—á–∞–π—Ç–µ JSON-–∫–ª—é—á
3. –ü–æ–º–µ—Å—Ç–∏—Ç–µ —Ñ–∞–π–ª –≤ `credentials/google-credentials.json`
4. –ü—Ä–µ–¥–æ—Å—Ç–∞–≤—å—Ç–µ –¥–æ—Å—Ç—É–ø Service Account –∫ –≤–∞—à–µ–π —Ç–∞–±–ª–∏—Ü–µ

### 4. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤

```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker compose up -d --build

# –ó–∞–ø—É—Å–∫ —Å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º (Prometheus + Grafana)
docker compose --profile monitoring up -d --build

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker compose logs -f

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤
docker compose down
```

### 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

```bash
# Bronivik Jr API
curl http://localhost:8080/healthz

# Bronivik CRM
curl http://localhost:8090/healthz

# Redis
docker compose exec redis redis-cli ping

# Prometheus (–µ—Å–ª–∏ –∑–∞–ø—É—â–µ–Ω)
curl http://localhost:9090/-/healthy

# Grafana (–µ—Å–ª–∏ –∑–∞–ø—É—â–µ–Ω)
open http://localhost:3000  # admin/admin
```

---

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å (Bronivik Jr)

–§–∞–π–ª: `bronivik_jr/configs/config.yaml`

```yaml
app:
  name: "bronivik-jr"
  environment: "production"
  version: "1.0.0"

telegram:
  bot_token: ${BOT_TOKEN}
  debug: false

database:
  path: "./data/bronivik_jr.db"

google:
  credentials_file: ${GOOGLE_CREDENTIALS_FILE}
  bookings_spreadsheet_id: ${GOOGLE_SPREADSHEET_ID}

api:
  enabled: true
  grpc_port: 8081
  http:
    enabled: true
    port: 8080
  auth:
    enabled: true
    keys: ["${API_AUTH_KEYS}"]

monitoring:
  prometheus_enabled: true
  prometheus_port: 9090
```

### –°–ø–∏—Å–æ–∫ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è

–§–∞–π–ª: `bronivik_jr/configs/items.yaml`

```yaml
items:
  - id: 1
    name: "–£–ó–ò –∞–ø–ø–∞—Ä–∞—Ç Philips"
    category: "–£–ó–ò"
    quantity: 2
    order: 1
  - id: 2
    name: "–†–µ–Ω—Ç–≥–µ–Ω –∞–ø–ø–∞—Ä–∞—Ç GE"
    category: "–†–µ–Ω—Ç–≥–µ–Ω"
    quantity: 1
    order: 2
```

### CRM –ë–æ—Ç

–§–∞–π–ª: `bronivik_crm/configs/config.yaml`

```yaml
telegram:
  bot_token: ${CRM_BOT_TOKEN}

api:
  base_url: "http://bronivik-jr-api:8080"
  api_key: ${CRM_API_KEY}
  api_extra: ${CRM_API_EXTRA}
  cache_ttl_seconds: 300

booking:
  min_advance_minutes: 60
  max_advance_days: 30
  max_active_per_user: 0  # 0 = –±–µ–∑ –ª–∏–º–∏—Ç–∞

managers:
  - 123456789

monitoring:
  prometheus_enabled: true
  health_check_port: 8090
```

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∫–∞–±–∏–Ω–µ—Ç–æ–≤

–§–∞–π–ª: `bronivik_crm/configs/cabinets.yaml`

```yaml
defaults:
  schedule:
    start_time: "10:00"
    end_time: "22:00"
    slot_duration: 30
    lunch_start: null
    lunch_end: null

cabinets:
  - id: 1
    name: "–ö–∞–±–∏–Ω–µ—Ç ‚Ññ1"
    number: "101"
    floor: 1
    capacity: 2
    enabled: true
    
  - id: 2
    name: "–ö–∞–±–∏–Ω–µ—Ç ‚Ññ2"
    number: "102"
    floor: 1
    capacity: 3
    enabled: true

holidays:
  - date: "2026-01-01"
    name: "–ù–æ–≤—ã–π –≥–æ–¥"
  - date: "2026-05-01"
    name: "–î–µ–Ω—å —Ç—Ä—É–¥–∞"
```

---

## üí¨ –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–æ–≤

### Bronivik Jr (–û—Å–Ω–æ–≤–Ω–æ–π –±–æ—Ç)

#### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã

- `/start` ‚Äî –Ω–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã, —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
- `/book` ‚Äî –∑–∞–ø—É—Å—Ç–∏—Ç—å –º–∞—Å—Ç–µ—Ä –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è
- `/my_bookings` ‚Äî —Å–ø–∏—Å–æ–∫ –º–æ–∏—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö –±—Ä–æ–Ω–µ–π
- `/cancel_booking <ID>` ‚Äî –æ—Ç–º–µ–Ω–∞ –±—Ä–æ–Ω–∏ –ø–æ ID
- `/help` ‚Äî —Å–ø—Ä–∞–≤–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º

#### –ö–æ–º–∞–Ω–¥—ã –º–µ–Ω–µ–¥–∂–µ—Ä–∞

- `/approve <ID>` ‚Äî –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –±—Ä–æ–Ω—å
- `/reject <ID>` ‚Äî –æ—Ç–∫–ª–æ–Ω–∏—Ç—å –±—Ä–æ–Ω—å
- `/stats [–ø–µ—Ä–∏–æ–¥]` ‚Äî —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ –ø–µ—Ä–∏–æ–¥
- `/export_bookings` ‚Äî —Ä—É—á–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å Google Sheets
- `/pending` ‚Äî —Å–ø–∏—Å–æ–∫ –∑–∞—è–≤–æ–∫ –Ω–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ

### Bronivik CRM (–ë–æ—Ç –∫–∞–±–∏–Ω–µ—Ç–æ–≤)

#### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã

- `/start` ‚Äî –Ω–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã
- `/book` ‚Äî –Ω–∞—á–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∫–∞–±–∏–Ω–µ—Ç–∞
  - –í—ã–±–æ—Ä –∫–∞–±–∏–Ω–µ—Ç–∞
  - –í—ã–±–æ—Ä –¥–∞—Ç—ã (–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –∫–∞–ª–µ–Ω–¥–∞—Ä—å)
  - –í—ã–±–æ—Ä –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ —Å–ª–æ—Ç–∞
  - –í—ã–±–æ—Ä –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–ª–æ—Ç–æ–≤ –ø–æ 30 –º–∏–Ω—É—Ç)
  - –í—ã–±–æ—Ä –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è (–∏–ª–∏ "–ë–µ–∑ –∞–ø–ø–∞—Ä–∞—Ç–∞")
  - –í–≤–æ–¥ –¥–∞–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–∞ (–§–ò–û, —Ç–µ–ª–µ—Ñ–æ–Ω)
- `/my_bookings` ‚Äî –º–æ–∏ –∑–∞–ø–∏—Å–∏ –≤ –∫–∞–±–∏–Ω–µ—Ç—ã
- `/cancel_booking <ID>` ‚Äî –æ—Ç–º–µ–Ω–∞ –∑–∞–ø–∏—Å–∏

#### –ö–æ–º–∞–Ω–¥—ã –º–µ–Ω–µ–¥–∂–µ—Ä–∞

- `/pending` ‚Äî —Å–ø–∏—Å–æ–∫ –∑–∞—è–≤–æ–∫, –æ–∂–∏–¥–∞—é—â–∏—Ö –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
- `/today_schedule` ‚Äî —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∫–∞–±–∏–Ω–µ—Ç–æ–≤ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è
- `/tomorrow_schedule` ‚Äî —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ –∑–∞–≤—Ç—Ä–∞
- `/add_cabinet <name>` ‚Äî –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –∫–∞–±–∏–Ω–µ—Ç
- `/list_cabinets` ‚Äî –ø—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –∫–∞–±–∏–Ω–µ—Ç–æ–≤
- `/set_schedule <cab_id> <day> <start> <end>` ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è

---

## üîå API

### REST API (Bronivik Jr)

–ü–æ—Ä—Ç: `8080` (HTTP), `8081` (gRPC)

#### –û—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

```bash
# –°–ø–∏—Å–æ–∫ –≤—Å–µ–≥–æ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è
GET /api/v1/items

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è
GET /api/v1/availability/{item_name}?date=YYYY-MM-DD

# –ú–∞—Å—Å–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
POST /api/v1/availability/bulk
Content-Type: application/json
{
  "items": ["–£–ó–ò –∞–ø–ø–∞—Ä–∞—Ç Philips", "–†–µ–Ω—Ç–≥–µ–Ω –∞–ø–ø–∞—Ä–∞—Ç GE"],
  "start_date": "2026-01-20",
  "end_date": "2026-01-25"
}

# –°–ø–∏—Å–æ–∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –¥–ª—è CRM
GET /api/devices?date=YYYY-MM-DD&include_reserved=true

# –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (–¥–ª—è CRM)
POST /api/book-device
Content-Type: application/json
x-api-key: your_api_key
x-api-extra: your_api_extra
{
  "device_id": 1,
  "date": "2026-01-20",
  "external_booking_id": "crm-12345",
  "client_name": "–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω",
  "client_phone": "+79991234567"
}

# –û—Ç–º–µ–Ω–∞ –≤–Ω–µ—à–Ω–µ–≥–æ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
DELETE /api/book-device/{external_id}

# Health Check
GET /healthz
GET /readyz
```

#### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

API –∏—Å–ø–æ–ª—å–∑—É–µ—Ç header-based –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é:

```bash
curl -H "x-api-key: your_key" \
     -H "x-api-extra: your_extra" \
     http://localhost:8080/api/v1/items
```

–ü–æ–ª–Ω–∞—è OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è: [`docs/openapi.yaml`](docs/openapi.yaml)

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### Health Checks

- **Bronivik Jr API**: `http://localhost:8080/healthz`
- **Bronivik CRM**: `http://localhost:8090/healthz`
- **Redis**: `docker compose exec redis redis-cli ping`

### Prometheus Metrics

–ü–æ—Ä—Ç: `9090` (–ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Å –ø—Ä–æ—Ñ–∏–ª–µ–º `monitoring`)

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –º–µ—Ç—Ä–∏–∫
open http://localhost:9090/metrics
open http://localhost:9090/graph
```

#### –ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏

- `reminders_sent_total` ‚Äî –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è
- `reminders_queue_size` ‚Äî —Ä–∞–∑–º–µ—Ä –æ—á–µ—Ä–µ–¥–∏ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π
- `reminder_send_duration_seconds` ‚Äî –≤—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π
- `api_requests_total` ‚Äî –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ API-–∑–∞–ø—Ä–æ—Å–æ–≤
- `api_request_duration_seconds` ‚Äî –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å API-–∑–∞–ø—Ä–æ—Å–æ–≤
- `booking_operations_total` ‚Äî –æ–ø–µ—Ä–∞—Ü–∏–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

### Grafana Dashboards

–ü–æ—Ä—Ç: `3000` (–ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Å –ø—Ä–æ—Ñ–∏–ª–µ–º `monitoring`)

- URL: `http://localhost:3000`
- –õ–æ–≥–∏–Ω: `admin`
- –ü–∞—Ä–æ–ª—å: `admin` (–∏–∑–º–µ–Ω–∏—Ç–µ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—Ö–æ–¥–µ)

–ì–æ—Ç–æ–≤—ã–µ –¥–∞—à–±–æ—Ä–¥—ã –≤ `monitoring/grafana/provisioning/dashboards/`

### Alerting

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∞–ª–µ—Ä—Ç–æ–≤: `monitoring/alerts.yml`

–ì—Ä—É–ø–ø—ã –∞–ª–µ—Ä—Ç–æ–≤:
- **reminders** ‚Äî –ø—Ä–æ–±–ª–µ–º—ã —Å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è–º–∏
- **api** ‚Äî –ø—Ä–æ–±–ª–µ–º—ã —Å API
- **bots** ‚Äî –ø—Ä–æ–±–ª–µ–º—ã —Å –±–æ—Ç–∞–º–∏
- **database** ‚Äî –ø—Ä–æ–±–ª–µ–º—ã —Å –ë–î
- **redis** ‚Äî –ø—Ä–æ–±–ª–µ–º—ã —Å Redis
- **resources** ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤

---

## üõ†Ô∏è –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ (–±–µ–∑ Docker)

#### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Go 1.24+
go version

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è –æ–±–æ–∏—Ö –º–æ–¥—É–ª–µ–π
cd bronivik_jr && go mod download && cd ..
cd bronivik_crm && go mod download && cd ..

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ª–∏–Ω—Ç–µ—Ä–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
go install github.com/golangci/golangci-lint/cmd/golangci-lint@latest
```

#### –ó–∞–ø—É—Å–∫ Redis

```bash
docker compose up -d redis
```

#### –ó–∞–ø—É—Å–∫ Bronivik Jr

```bash
# Terminal 1: Bot
cd bronivik_jr
go run ./cmd/bot --config=configs/config.yaml

# Terminal 2: API Server
cd bronivik_jr
go run ./cmd/api --config=configs/config.yaml

# Terminal 3: Worker (–Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è)
cd bronivik_jr
go run ./cmd/bot worker --job=reminders
```

#### –ó–∞–ø—É—Å–∫ Bronivik CRM

```bash
cd bronivik_crm
go run ./cmd/bot --config=configs/config.yaml
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤ –¥–ª—è –æ–±–æ–∏—Ö –º–æ–¥—É–ª–µ–π
make test

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º
make test-coverage

# –¢–µ—Å—Ç—ã –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –º–æ–¥—É–ª—è
cd bronivik_jr && go test ./... -v
cd bronivik_crm && go test ./... -v

# –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
go test ./internal/api/... -tags=integration -v
```

### –õ–∏–Ω—Ç–∏–Ω–≥

```bash
# –ó–∞–ø—É—Å–∫ –ª–∏–Ω—Ç–µ—Ä–∞
make lint

# –ò–ª–∏ –Ω–∞–ø—Ä—è–º—É—é
cd bronivik_jr && golangci-lint run
cd bronivik_crm && golangci-lint run
```

### –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î

```bash
# –ü—Ä–∏–º–µ–Ω–∏—Ç—å –≤—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏
./scripts/migrate.sh up all

# –û—Ç–∫–∞—Ç–∏—Ç—å –æ–¥–Ω—É –º–∏–≥—Ä–∞—Ü–∏—é
./scripts/migrate.sh down bronivik_jr 1

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â—É—é –≤–µ—Ä—Å–∏—é
./scripts/migrate.sh version all

# –°–æ–∑–¥–∞—Ç—å backup –ø–µ—Ä–µ–¥ –º–∏–≥—Ä–∞—Ü–∏–µ–π
./scripts/migrate.sh backup all
```

–ü–æ–¥—Ä–æ–±–Ω–µ–µ: [`docs/ROLLBACK.md`](docs/ROLLBACK.md)

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã: [`docs/ARCHITECTURE.md`](docs/ARCHITECTURE.md)

---

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø—Ä–æ–µ–∫—Ç–æ–≤ (git subtree)

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç git subtree –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–¥–ø—Ä–æ–µ–∫—Ç–∞–º–∏.

### –ü–µ—Ä–≤–∏—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

–ï—Å–ª–∏ remotes –µ—â—ë –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã:

```bash
git remote add bronivik_jr https://github.com/Bormotoon/bronivik_jr.git
git remote add bronivik_crm https://github.com/Bormotoon/bronivik_crm.git
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –∏–∑ –ø–æ–¥–ø—Ä–æ–µ–∫—Ç–æ–≤

```bash
# –û–±–Ω–æ–≤–∏—Ç—å bronivik_jr (–≤–µ—Ç–∫–∞ master)
git fetch bronivik_jr master
git subtree pull --prefix=bronivik_jr bronivik_jr master

# –û–±–Ω–æ–≤–∏—Ç—å bronivik_crm (–≤–µ—Ç–∫–∞ main)
git fetch bronivik_crm main
git subtree pull --prefix=bronivik_crm bronivik_crm main
```

### –û—Ç–ø—Ä–∞–≤–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π –æ–±—Ä–∞—Ç–Ω–æ –≤ –ø–æ–¥–ø—Ä–æ–µ–∫—Ç—ã

```bash
# –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ bronivik_jr
git subtree push --prefix=bronivik_jr bronivik_jr master

# –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ bronivik_crm
git subtree push --prefix=bronivik_crm bronivik_crm main
```

### –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `--squash` —Å `git subtree pull` –¥–ª—è –µ–¥–∏–Ω–æ–≥–æ merge-–∫–æ–º–º–∏—Ç–∞
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç–µ –∫–æ–º–∞–Ω–¥—ã –∏–∑ –∫–æ—Ä–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
- –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ø–æ–¥–∫–∞—Ç–∞–ª–æ–≥–∞—Ö `bronivik_jr/` –∏ `bronivik_crm/` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–∫–ª—é—á–∞—é—Ç—Å—è –≤ –∏—Å—Ç–æ—Ä–∏—é –º–æ–Ω–æ—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [üìñ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã](docs/ARCHITECTURE.md)
- [üíæ –°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö](docs/DATABASE_SCHEMA.md)
- [üë®‚Äçüíº –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –º–µ–Ω–µ–¥–∂–µ—Ä–∞](docs/MANAGER_GUIDE.md)
- [üîô –ü–ª–∞–Ω –æ—Ç–∫–∞—Ç–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π](docs/ROLLBACK.md)
- [üîå OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è](docs/openapi.yaml)

---

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ª–∏—Ü–µ–Ω–∑–∏—Ä–æ–≤–∞–Ω –ø–æ–¥ [Mozilla Public License 2.0](LICENSE).

---

## üë• –ö–æ–Ω—Ç–∞–∫—Ç—ã –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞

- **GitHub**: [@Bormotoon](https://github.com/Bormotoon)
- **–û—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ–µ–∫—Ç (Jr)**: [bronivik_jr](https://github.com/Bormotoon/bronivik_jr)
- **CRM –ø—Ä–æ–µ–∫—Ç**: [bronivik_crm](https://github.com/Bormotoon/bronivik_crm)

---

## üôè –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ open-source –±–∏–±–ª–∏–æ—Ç–µ–∫–∏:
- [Telegram Bot API](https://github.com/go-telegram-bot-api/telegram-bot-api)
- [Echo Framework](https://echo.labstack.com/)
- [SQLite](https://www.sqlite.org/)
- [Redis](https://redis.io/)
- [Prometheus](https://prometheus.io/)
- [Grafana](https://grafana.com/)

---

**Made with ‚ù§Ô∏è for medical professionals**
